#
#  smime.conf - Example SMIME configuration
#
#
#  File Format rules:
#       Each entry must begin at the start of a new line.
#       Each entry consists of LHS==RHS
#       Each LHS is a case insensitive keyword.
#       White space is not allowed before the ==.
#       All blank lines or lines where first non-blank character is # are comments.
#
#
# The following entry is used to search for certificates by attributes of directory objects.
# It is used in conjunction with the certurl.
# It is required when smime features are enabled.
# Use any combinations of these three email address attributes (but at least one).
#
userCertFilter==(|(mail=%e)(mailAlternateAddress=%e)(mailEquivalentAddress=%e))
#
#
# The following entry is used to search for trusted certificates used to verify user certificates.
# It is required when smime features are enabled.
# Optional logindn/loginpw credentials for use when accessing this url can be appended in the form:
# |<logindn>|<loginpw>
# Both or neither must appear.
# Note: the administrator must create the ldap entry for "SMIME".
#
trustedurl==ldap://algy.sfbay.sun.com:389/cn=SMIME, ou=people, o=sfbay.sun.com, o=usergroup?cacertificate;binary?sub?(objectclass=certificationauthority)
#
#
# The following entry is used to search for user certificates. The filter in userCertFilter is 
# appended to this url with the "%e" specifiers replaced by the email address of the user for 
# whom certificates are being searched.
# It is required when smime features are enabled.
# Optional logindn/loginpw credentials for use when accessing this url can be appended in the form:
# |<logindn>|<loginpw>
# Both or neither must appear.
#
certurl==ldap://algy.sfbay.sun.com:389/ou=people, o=sfbay.sun.com, o=usergroup?userCertificate;binary?sub?
#
#
# The following entry is used to locate the Root certificates used for secure HTTP protocol
# It is required when smime features are enabled and SSL protocols are enabled.
# Optional logindn/loginpw credentials for use when accessing this url can be appended in the form:
# |<logindn>|<loginpw>
# Both or neither must appear.
# Note: the administrator must create the ldap entry for "SSL Root CA Certs".
#
# sslRootCACertsURL==ldap://dianthos.sfbay.sun.com:389/cn=SSL Root CA Certs, ou=people, o=belugie.sfbay.sun.com, o=mailQA?cacertificate;binary?base?(objectclass=certificationauthority)
#sslRootCACertsURL==ldap://dianthos.sfbay.sun.com:389/cn=SMIME, ou=people, o=sfbay.sun.com, dc=red,dc=iplanet,dc=com?cacertificate;binary?sub?(objectclass=certificationauthority)
#
#
# The following entry is used to specify the Root UID for LDAP access to all 
# the URLs specified in this configuration file. It is optional; if not specified, 
# the credentials of the iMS server are used. If specified, loginpw must also be specified.
# Note: any local credentials appended to a URL are used instead of this specification.
#
logindn==cn=Directory Manager
#
#
# The following entry is used to specify the password for LDAP access to all
# the URLs specified in this configuration file. It is optional; if not specified,
# the credentials of the iMS server are used. If specified, logindn must also be specified.
# Note: any local credentials appended to a URL are used instead of this specification.
#
loginpw==netscape
#
#
# Specifies one or more library names needed by smart cards or local key
# store on the Windows platform.  The setting below is the default; you need to
# specify this option only if your library settings differ. This option is required if any
# Communications Express Mail users use the Windows platform.
#
platformWin==CAPI:library=capibridge.dll;CAC:library=acpkcs211.dll;
#
#
# Specifies one or more library names needed by smart cards or local key
# store on the Macintosh platform.  The setting below is the default; you need to 
# specify this option only if your library settings differ. This option is required if any
# Communications Express Mail users use the Macintosh platform.
#
# platformMac==MOZILLA:library=libsoftokn3.dylib;
#
#
# Specifies one or more library names needed by smart cards or local key
# store on the Linux platform.  The setting below is the default; you need to
# specify this option only if your library settings differ. This option is required if any
# Communications Express Mail users use the Linux platform.
#
# platformLinuxx86==MOZILLA:library=libsoftokn3.so;
#
#
# Specifies one or more library names needed by smart cards or local key
# store on the Sparc Solaris platform.  The setting below is the default; you need to
# specify this option only if your library settings differ. This option is required if any
# Communications Express Mail users use the Sparc Solaris platform.
#
# platformSolarisSparc==MOZILLA:library=libsoftokn3.so;
#
#
#
# Controls the initial setting for whether all outgoing messages
# are automatically encrypted for all Communications Express Mail users
# with permission to use S/MIME. 
#
# Choose one of these values:
#   0 - do not encrypt messages. The encryption checkboxes
#       within Communications Express Mail are displayed as unchecked. This is the default.
#   1 - always encrypt messages.The encryption checkboxes
#       within Communications Express Mail are displayed as checked.
#
# alwaysencrypt==0
#
#
# Controls the initial setting for whether all outgoing messages
# are automatically signed for all Communications Express Mail users
# with permission to use S/MIME. 
# Choose one of these values:
#   0 - do not sign messages. The signature checkboxes within
#       Communications Express Mail are displayed as unchecked. This is the default.
#   1 - always sign messages. The signature checkboxes within
#       Communications Express Mail are displayed as checked.
# 
# alwayssign==0
#
#
# Certificate Validation Support - Each of the following specifiers is optional.
#
#
# Controls whether certificates are checked against CRLs. If
# there is a match, a certificate is considered revoked. The
# values of the send*revoked parameters determine whether a revoked 
# certificate is rejected or used by Communications Express Mail.
# Choose one of these values:
#   0 - each certificate is not checked against a CRL.
#   1 - each certificate is checked against a CRL. This is the default.
# 
crlenable==0
#
#
# The following entry is used to specify the directory path information to locate the
# database where CRL information is stored. 
#
crldir==/opt/sun/comms/messaging64/data/store/mboxlist/
#
#
# The following entry is used to specify the Root UID for LDAP access to all 
# the URLs specified in the CRL Mapping table. It is optional; if not specified, 
# the credentials of the iMS server are used. If specified, crlurlloginpw must also be specified.
# Note: any local credentials appended to a URL in the CRL Mapping table are used instead of this specification.
#
crlurllogindn==cn=Directory Manager
#
#
# The following entry is used to specify the password for LDAP access to all
# the URLs specified in the CRL Mapping table. It is optional; if not specified,
# the credentials of the iMS server are used. If specified, crlurllogindn must also be specified.
# Note: any local credentials appended to a URL in the CRL Mapping table are used instead of this specification.
#
crlurlloginpw==netscape
#
#
# The following entry is used to locate the CRL mapping.
# (format: crlmappingurl==ldap url of CRL map)
# Optional logindn/loginpw credentials for use when accessing this url can be appended in the form:
# |<logindn>|<loginpw>
# Both or neither must appear.
# Note: the administrator must create the ldap entry for "SMIME".
#
#crlmappingurl==ldap://dianthos.sfbay.sun.com:389/cn=SMIME, ou=people, o=sfbay.sun.com, dc=red,dc=iplanet,dc=com?msgCRLMappingRecord?sub?(objectclass=msgCRLMappingTable)
#crlmappingurl=="http://marceau.sfbay.sun.com/cert.crl"
#crlmappingurl==ldap://dianthos.sfbay.sun.com:389/cn=SMIME, ou=people, o=sfbay.sun.com,dc=red,dc=iplanet,dc=com?certificaterevocationlist;binary?sub?
#
#
# The following entry is used to specify the time interval before the received time on messages.
# (format: timestampdelta==<numberofseconds>)
#
# timestampdelta==360
#
#
# The following entry is used to specify the time interval to wait after multiple CRL attempts.
# crlaccessfail==#fails:#mins:#minswait
#     where   #fails    = number of CRL URL failures before triggering wait
#             #mins     = number of minutes during which the #fails must occur
#             #minswait = number of minutes to wait until another CRL URL attempt will be allowed
#     If crlaccessfail is used, no fields are optional, and all values must be greater than 0.
#
# crlaccessfail==2:20:10
#
#
# Controls whether an SSL communications link is used when
# checking a certificate against a CRL . 
#
# Choose one of these values:
#   0 - do not use an SSL communications link.
#   1 - use an SSL communications link. This is the default.
#
checkoverssl==0
#
#
# Controls whether the certificate used to sign a message is
# checked against a CRL when the message is read. 
# Choose one of these values:
#   0 - do not check the certificate against a CRL.
#   1 - check the certificate against a CRL. This is the default.
#
#readsigncert==1
#
#
# Determines the action to take when an ambiguous status is
# returned when checking a certificate against a CRL. In this case,
# it is not certain if the certificate is valid or has a revoked status.
# Choose one of these values:
#   ok      - treat the certificate as valid.
#   revoked - treat the certificate as revoked. This is the default.
# 
revocationunknown==ok
#
#
# Controls whether a certificate used to encrypt an outgoing
# message is checked against a CRL before using it. 
# Choose one of these values:
#   0 - do not check the certificate against a CRL.
#   1 - check the certificate against a CRL. This is the default.
#
sendencryptcert==1
#
#
# Determines the action to take if a certificate used to encrypt
# an outgoing message has been revoked. 
# Choose one of these values:
#   allow    - use the certificate.
#   disallow - do not use the certificate. This is the default.
#
sendencryptcertrevoked==allow
# 
#
# Controls whether a certificate used for signing an outgoing
# message is checked against a CRL before using it.
# Choose one of these values:
#   0 - do not check the certificate against a CRL.
#   1 - check the certificate against a CRL. This is the default.
# 
sendsigncert==1
#
#
# Determines the action to take if the certificate used to sign an
# outgoing message has been revoked.
# Choose one of these values:
#   allow    - use the certificate.
#   disallow - do not use the certificate. This is the default.
#
sendsigncertrevoked==allow
#
#
# The following entry specifies whether to continue to use a CRL after its
# next update date (in case a new CRL is not available or accessible).
# Choose one of these values:
#   0 - do not use a CRL after its next update date.
#   1 - continue to use a CRL after its next update date. This is the default.
#
crlusepastnextupdate==1
#
# To enable applet logging
#
appletlogging==1
