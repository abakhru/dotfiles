
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
NOTE: common.sh, setup.conf, port_numbers files SHOULD be in same directory
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

This is the README file for the deployment scripts.
This is README will tell how to use the scripts that i have written. Hope it will be helpful.

*. setup.conf is the file which contains all the static variables. Change it before running anything.
*. port_numbers is the file which contains all the mux & server Port numbers.
*. sample.sh is just a sample file which will explain how the functions can be used.
*. Then there is common.sh which does all the operations.
*. There are four funtions inside common.sh namely create_instance, configure, operation & clean.
*. To use any of the funtions you may create a new shell-script (with execute permission) & source common.sh file to it.
*. To enable logging of the console output to a log file, uncomment the below line in common.sh:
	exec > $script_location/common.log.`date '+20%y%m%d%H%M%S'` 2>&1
OR
	. sample.sh 2>&1 | tee ./common.log.`date '+20%y%m%d%H%M%S'` 
# Write this file in common.sh to enable logging on console as well as log file.

For eg like this:

#. common.sh

#create_instance redirect_server 1 # This line will create one instance of IM-Server with redirect_server as instance-name
#configure redirect_server 1 enable redirect # This line will enable redirect-server config-parameters on redirect_server
#configure redirect_server 1 enable register # This line will enable new-user registration config-parameters on redirect_server instance
#create_instance peer_server 2 # This line will create four instances of IM-Server with peer_server  as instance-name
#configure peer_server 1 enable s2s # Same as explained above
#configure peer_server 2 enable s2s
#configure peer_server 1 enable register
#configure peer_server 2 enable tls
#configure peer_server 1 enable identity
#configure peer_server 2 disable tls
#configure peer_server 1 disable register
#operation peer_server 1 start
#operation peer_server 1 stop
#clean peer_server # This line will stop & clean all the instances-related directories
#clean redirect_server

# To use the functions provided in common.sh,you need to create a new sheell-script file say test.sh & should add the below lines for sure, & after these line you can write your own program login.

################
#Scripts starts
################

current_dir=`pwd`
cd <dir_name_where-all-the-scripts-are-there>
# In my case its "cd /space/amit/setup_scripts"
. common.sh
......
<program_logic>
......
......
cd $current_dir

################
#Scripts ends
################

Kindly mail me at bakhru@sun.com if you find any bugs or doubts in using these scripts.
