if [ `/usr/bin/uname -r` == "5.10" ]; then
   echo "Please dont use this script for uninstalling JES from Sol10 Machine"
   exit 1
fi



/usr/sbin/mpsadmserver unconfigure -nodisplay
/usr/sbin/mpsadmserver uninstall

echo "Uconfiguration is done for Directory server."

echo "Removing the configuration for Directory Server."

/usr/sbin/directoryserver -u 5.2 unconfigure -nodisplay
/usr/sbin/directoryserver uninstall

echo "Unconfiguration is done for Admin Server"

echo " Started removing the Packages related to Java Enterprise System"

sh rmpackage

./scrub-orion 

echo "Started Removing Directories"

rm   /etc/imq


echo "Removing .lock and .pkg files and Logs and Productregistry"

rm -rf  /var/sadm/install/.pkg.lock
rm -rf  /var/sadm/install/.lockfile
rm -rf  /var/sadm/install/productregistry


rm -rf  /var/sadm/install/logs/*

echo "Removing files from /var/sadm/prod"

rm -rf  /var/sadm/prod/*

echo "Removing files from /var/tmp"

rm -rf  /var/tmp/*

echo "Removing files from /tmp"

rm -rf  /tmp/*

echo "Removing productregistry.xml file"

rm  /productregistry.xml

echo "Removing contents from /etc/ds"

rm -rf  /etc/ds/*

echo "Removing DS directory"

rm -rf /var/opt/mps/serverroot

echo "Killing the processes-- imq, appservd, httpd, ldap, webservd"

echo "SUNWam, entsys, jdk, SUNWps, Multiplexor, SUNWcs"

for i in `ps -eaf |grep -i SUNWps |awk '{ print $2 }'`; do kill -9 $i; done

for i in `ps -eaf |grep -i SUNWportal |awk '{ print $2 }'`; do kill -9 $i; done

for i in `ps -eaf |grep -i SUNWam |awk '{ print $2 }'`; do kill -9 $i; done

for i in `ps -eaf |grep -i imq |awk '{ print $2 }'`; do kill -9 $i; done

for i in `ps -eaf |grep -i appservd |awk '{ print $2 }'`; do kill -9 $i; done

for i in `ps -eaf |grep -i webservd |awk '{ print $2 }'`; do kill -9 $i; done

for i in `ps -eaf |grep -i entsys |awk '{ print $2 }'`; do kill -9 $i; done

for i in `ps -eaf |grep -i jdk |awk '{ print $2 }'`; do kill -9 $i; done

for i in `ps -eaf |grep -i Mulitplexor |awk '{ print $2 }'`; do kill -9 $i; done

for i in `ps -eaf |grep -i ldap |awk '{ print $2 }'`; do kill -9 $i; done

for i in `ps -eaf |grep -i slapd |awk '{ print $2 }'`; do kill -9 $i; done

for i in `ps -eaf |grep -i icsuser |awk '{ print $2 }'`; do kill -9 $i; done

for i in `ps -eaf |grep -i httpd |awk '{ print $2 }'`; do kill -9 $i; done

for i in `ps -eaf |grep -i imsched |awk '{ print $2 }'`; do kill -9 $i; done
for i in `ps -eaf |grep -i imapd |awk '{ print $2 }'`; do kill -9 $i; done
for i in `ps -eaf |grep -i tcp_smtp_server |awk '{ print $2 }'`; do kill -9 $i; done
for i in `ps -eaf |grep -i popd |awk '{ print $2 }'`; do kill -9 $i; done
for i in `ps -eaf |grep -i dispatcher |awk '{ print $2 }'`; do kill -9 $i; done
for i in `ps -eaf |grep -i stored |awk '{ print $2 }'`; do kill -9 $i; done
for i in `ps -eaf |grep -i job_controller |awk '{ print $2 }'`; do kill -9 $i; done
for i in `ps -eaf |grep -i enpd |awk '{ print $2 }'`; do kill -9 $i; done
for i in `ps -eaf |grep -i watcher |awk '{ print $2 }'`; do kill -9 $i; done

echo "Killing the processes-- imq, appservd, httpd, ldap, webservd"

echo "Removing installation directories"

rm -rf /opt/SUNWcomds
rm -rf /space/SUNWcomds
rm -rf /opt/SUNWasvmn
rm -rf /opt/SUNWdsvmn
rm -rf /var/opt/SUNWpsdefault
rm -rf /etc/opt/SUNWiim
rm -rf /var/opt/SUNWcomm
rm -rf /opt/CS /opt/MS /opt/IM /opt/SUNWcomm /opt/SUNWuwc
rm -rf /space/CS /space/MS /space/IM /space/SUNWcomm /space/SUNWuwc
rm -rf /opt/SUNWmfwk
rm -rf /opt/SUNWmlib
rm -rf /opt/SUNWits
rm -rf /etc/opt/SUNWmfwk
rm -rf /var/opt/SUNWmfwk
rm -rf /var/opt/SUNWhadb
rm -rf /usr/share/bdb/db.jar
rm -rf /opt/SUNWcommds
rm -rf /etc/opt/SUNWhadb
rm -rf /opt/SUNWappserver
rm -rf /etc/opt/SUNWappserver
rm -rf /var/opt/SUNWappserver
rm -rf /space/DS /space/PS /space/IS /space/WS /space/AS
rm -rf /space/AM
rm -rf /opt/SUNWcacao
rm -rf /etc/opt/SUNWcacao
rm -rf /var/opt/SUNWcacao 
rm /usr/sbin/directoryserver
rm /usr/sbin/mpsadmserver
rm -rf /etc/opt/SUNWps
rm -rf /etc/opt/SUNWportal
rm -rf /etc/opt/SUNWam
rm -rf /etc/opt/SUNWma
rm -rf /etc/opt/SUNWappserver7
rm -rf /var/opt/SUNWps
rm -rf /var/opt/SUNWam
rm -rf /var/opt/SUNWappserver7
rm -rf /var/opt/SUNWportal
rm -rf /opt/SUNWps
rm -rf /opt/SUNWportal
rm -rf /opt/SUNWam
rm -rf /opt/SUNWappserver7
rm -rf /space/SUNWps
rm -rf /space/SUNWportal
rm -rf /space/SUNWam
rm -rf /space/SUNWappserver7
rm -rf /opt/SUNWwbsvr
rm -rf /space/SUNWwbsvr
rm -rf /usr/sunone
rm -rf /var/Sun
rm -rf /space/Sun
rm -rf /space/ds52
rm -rf /space/ds
rm -rf /var/opt/mps
rm -rf /usr/j2se
rm -rf /usr/jdk
rm -rf /var/sadm/install/productregistry
rm -rf /var/sadm/install/.lockfile
rm -rf /var/sadm/install/.pkg.lock
rm -rf /var/sadm/prod/orion
rm -rf /var/sadm/prod/entsys
rm -rf /var/opt/mps/serverroot
rm -rf /etc/ds
rm -rf /etc/mps
rm -rf /usr/lib/mps
rm -rf /usr/share/lib/mps
rm -rf /space/RS
rm -rf /etc/cacao
rm -rf /usr/lib/cacao
rm -rf /var/cacao
rm -rf /opt/SUNWwbsvr7
rm -rf /var/opt/SUNWwbsvr7
rm -rf /var/opt/sun
rm -rf /opt/sun
rm -rf /var/opt/webconsole
rm -rf /etc/mps/admin

echo "Cleanup has completed..."
